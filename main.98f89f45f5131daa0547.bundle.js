(()=>{var e={686:e=>{var t,n;Fraction=function(e,t){if(void 0!==e&&t)"number"==typeof e&&"number"==typeof t?(this.numerator=e,this.denominator=t):"string"==typeof e&&"string"==typeof t&&(this.numerator=parseInt(e),this.denominator=parseInt(t));else if(void 0===t)if(num=e,"number"==typeof num)this.numerator=num,this.denominator=1;else if("string"==typeof num){var n,r,i=num.split(" ");if(i[0]&&(n=i[0]),i[1]&&(r=i[1]),n%1==0&&r&&r.match("/"))return new Fraction(n).add(new Fraction(r));if(!n||r)return;if("string"==typeof n&&n.match("/")){var a=n.split("/");this.numerator=a[0],this.denominator=a[1]}else{if("string"==typeof n&&n.match("."))return new Fraction(parseFloat(n));this.numerator=parseInt(n),this.denominator=1}}this.normalize()},Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var e=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),t=this.numerator%this.denominator,n=this.denominator,r=[];return 0!=e&&r.push(e),0!=t&&r.push((0===e?t:Math.abs(t))+"/"+n),r.length>0?r.join(" "):0},Fraction.prototype.rescale=function(e){return this.numerator*=e,this.denominator*=e,this},Fraction.prototype.add=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator+=e.numerator,t.normalize()},Fraction.prototype.subtract=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator-=e.numerator,t.normalize()},Fraction.prototype.multiply=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.numerator,t.denominator*=e.denominator;else{if("number"!=typeof e)return t.multiply(new Fraction(e));t.numerator*=e}return t.normalize()},Fraction.prototype.divide=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.denominator,t.denominator*=e.numerator;else{if("number"!=typeof e)return t.divide(new Fraction(e));t.denominator*=e}return t.normalize()},Fraction.prototype.equals=function(e){e instanceof Fraction||(e=new Fraction(e));var t=this.clone().normalize();e=e.clone().normalize();return t.numerator===e.numerator&&t.denominator===e.denominator},Fraction.prototype.normalize=(t=function(e){return"number"==typeof e&&(e>0&&e%1>0&&e%1<1||e<0&&e%-1<0&&e%-1>-1)},n=function(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},function(){if(t(this.denominator)){var e=n(this.denominator,9),r=Math.pow(10,e.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*r),this.numerator*=r}t(this.numerator)&&(e=n(this.numerator,9),r=Math.pow(10,e.toString().split(".")[1].length),this.numerator=Math.round(this.numerator*r),this.denominator*=r);var i=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=i,this.denominator/=i,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}),Fraction.gcf=function(e,t){var n=[],r=Fraction.primeFactors(e),i=Fraction.primeFactors(t);return r.forEach((function(e){var t=i.indexOf(e);t>=0&&(n.push(e),i.splice(t,1))})),0===n.length?1:function(){var e,t=n[0];for(e=1;e<n.length;e++)t*=n[e];return t}()},Fraction.primeFactors=function(e){for(var t=Math.abs(e),n=[],r=2;r*r<=t;)t%r==0?(n.push(r),t/=r):r++;return 1!=t&&n.push(t),n},e.exports.i=Fraction},998:(e,t,n)=>{"use strict";e.exports=n.p+"assests/images/icons.a3a908ad3fc58f2c8e8a..svg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e="https://forkify-api.herokuapp.com/api/v2/recipes/",t="80ddbdbf-1a25-44cf-91ff-bc95c7063131";function r(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var i=function(e){return new Promise((function(t,n){setTimeout((function(){n(new Error("Request took too long! Timeout after ".concat(e," second")))}),1e3*e)}))},a=function(){var e,t=(e=function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{var n=t?fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}):fetch(e),r=yield Promise.race([i(10),n]),a=yield r.json();if(!r.ok)throw new Error("".concat(a.message," (").concat(r.status,")"));return a}catch(e){throw"".concat(e," ðŸ’¥ðŸ’¥")}},function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();function o(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,h={recipe:{},search:{query:"",results:[],resultsPerPage:10,page:1,totalSearchResults:0},bookmarks:[]},p=function(e){var{recipe:t}=e.data;return u({id:t.id,title:t.title,publisher:t.publisher,sourceUrl:t.source_url,image:t.image_url,servings:t.servings,cookingTime:t.cooking_time,ingredients:t.ingredients},t.key&&{key:t.key})},g=function(){var n=s((function*(n){try{var r=yield a("".concat(e).concat(n,"?key=").concat(t));h.recipe=p(r),h.bookmarks.some((e=>e.id===n))?h.recipe.bookmarked=!0:h.recipe.bookmarked=!1}catch(e){throw console.log("".concat(e," ðŸ’¥ðŸ’¥ðŸ’¥ðŸ’¥")),e}}));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=s((function*(n){try{h.search.query=n;var r=yield a("".concat(e,"?search=").concat(n,"&key=").concat(t));h.search.results=r.data.recipes.map((e=>u({id:e.id,title:e.title,publisher:e.publisher,image:e.image_url},e.key&&{key:e.key}))),h.search.estTotalPages=Math.ceil(h.search.results.length/10),h.search.page=1,h.search.totalSearchResults=r.results}catch(e){throw console.log("".concat(e," ðŸ’¥ðŸ’¥ðŸ’¥ðŸ’¥")),e}}));return function(e){return n.apply(this,arguments)}}(),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.search.page;h.search.page=e;var t=(e-1)*h.search.resultsPerPage,n=e*h.search.resultsPerPage;return h.search.results.slice(t,n)},m=function(){localStorage.setItem("bookmarks",JSON.stringify(h.bookmarks))},_=function(e){h.bookmarks.push(e),e.id===h.recipe.id&&(h.recipe.bookmarked=!0),m()};d=localStorage.getItem("bookmarks"),console.log(),d&&(h.bookmarks=JSON.parse(d));var b=function(){var n=s((function*(n){console.log(Object.entries(n));try{var r=Object.entries(n).filter((e=>e[0].startsWith("ingredient")&&""!==e[1])).map((e=>{var t=e[1].split(",").map((e=>e.trim()));if(3!==t.length)throw new Error("Wrong ingredients format! Please use the correct format!");var[n,r,i]=t;return{quantity:n?+n:null,unit:r,description:i}})),i={title:n.title,source_url:n.sourceUrl,image_url:n.image,publisher:n.publisher,cooking_time:+n.cookingTime,servings:+n.servings,ingredients:r},o=yield a("".concat(e,"?key=").concat(t),i);h.recipe=p(o),_(h.recipe)}catch(e){throw e}}));return function(e){return n.apply(this,arguments)}}(),y=n(998);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k{constructor(){w(this,"_parentEl",""),w(this,"_data",void 0),w(this,"_errorMessage",""),w(this,"_message",""),w(this,"pageNo",void 0),w(this,"totalRecipes",void 0)}_clear(){this._parentEl.innerHTML=""}renderError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._errorMessage,t='\n        <div class="error">\n            <div>\n            <svg>\n                <use href="'.concat(y,'#icon-alert-triangle"></use>\n            </svg>\n            </div>\n            <p>').concat(e,"</p>\n        </div>\n      ");this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",t)}renderMessage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._message,t='\n        <div class="message">\n            <div>\n            <svg>\n                <use href="'.concat(y,'#icon-smile"></use>\n            </svg>\n            </div>\n            <p>').concat(e,"</p>\n        </div>\n      ");this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",t)}renderSpinner(){var e='\n        <div class="spinner">\n          <svg>\n            <use href="'.concat(y,'#icon-loader"></use>\n          </svg>\n        </div> \n    ');this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",e)}render(e){if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;var t=this._generateMarkup();this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",t)}update(e){if(e&&(!Array.isArray(e)||0!==e.length)){this._data=e;var t=this._generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),i=Array.from(this._parentEl.querySelectorAll("*"));if(r.length!==i.length)return this.renderMessage("Internal Error. Can't process your request");r.forEach(((e,t)=>{var n,r=i[t];e.isEqualNode(r)||""===(null===(n=e.firstChild)||void 0===n?void 0:n.nodeValue.trim())||(r.textContent=e.textContent),e.isEqualNode(r)||Array.from(e.attributes).forEach((e=>r.setAttribute(e.name,e.value)))}))}}getPaginationInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.pageNo=e,this.totalRecipes=t}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get"))}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var M=new WeakMap,F=new WeakMap,q=new WeakMap,j=new WeakMap,O=new WeakSet,T=new WeakSet,x=new WeakSet;function H(e){"Escape"===e.key&&(P(this,F).classList.add("hidden"),P(this,M).classList.add("hidden"))}function L(){P(this,j).addEventListener("click",this.toggleWindow.bind(this))}function W(){P(this,q).addEventListener("click",this.toggleWindow.bind(this)),P(this,F).addEventListener("click",this.toggleWindow.bind(this)),window.addEventListener("keydown",S(this,O,H).bind(this))}const A=new class extends k{constructor(){super(),x.add(this),T.add(this),O.add(this),E(this,"_parentEl",document.querySelector(".upload")),M.set(this,{writable:!0,value:document.querySelector(".add-recipe-window")}),F.set(this,{writable:!0,value:document.querySelector(".overlay")}),q.set(this,{writable:!0,value:document.querySelector(".btn--close-modal")}),j.set(this,{writable:!0,value:document.querySelector(".nav__btn--add-recipe")}),E(this,"_errorMessage","ðŸ˜” We could not retrived the requested recipe. Please try again ðŸ¤ž."),E(this,"_message","Recipe was successfully Uploaded"),S(this,T,L).call(this),S(this,x,W).call(this)}toggleWindow(){P(this,F).classList.toggle("hidden"),P(this,M).classList.toggle("hidden")}addHandlerUpload(e){this._parentEl.addEventListener("submit",(function(t){t.preventDefault();var n=[...new FormData(this)],r=Object.fromEntries(n);e(r)}))}};const N=class extends k{_generateMarkupPreview(e){var t=window.location.hash.slice(1);return'\n        <li class="preview">\n            <a class="preview__link '.concat(t===e.id?"preview__link--active":"",'" href="#').concat(e.id,'">\n              <figure class="preview__fig">\n                <img src="').concat(e.image,'" alt="Test" />\n              </figure>\n              <div class="preview__data">\n                <h4 class="preview__title">').concat(e.title,'</h4>\n                <p class="preview__publisher">').concat(e.publisher,'</p>\n                <div class="preview__user-generated ').concat(e.key?"":"hidden",' ">\n                  <svg>\n                    <use href="').concat(y,'#icon-user"></use>\n                  </svg>\n                </div>\n              </div>\n            </a>\n          </li>\n      ')}};function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=new class extends N{constructor(){super(...arguments),R(this,"_parentEl",document.querySelector(".bookmarks__list")),R(this,"_errorMessage","ðŸ˜” No bookmarks yet. Find a nice recipe and bookmark it ðŸ¤ž.")}addHandlerRender(e){window.addEventListener("load",(function(){e()}))}_generateMarkup(){return"".concat(this._data.map(this._generateMarkupPreview).join(""))}};const C=new class{constructor(){var e,t,n;e=this,t="_copyrightDateEl",n=document.querySelector(".copyright-date"),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}renderCurrentYear(){var e=(new Date).getFullYear();this._copyrightDateEl.textContent=e}};function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var U=new WeakSet,Q=new WeakSet;function Y(e){return"\n        <button data-goto=".concat(e+1,' class="btn--inline pagination__btn--next">\n            <span>Page ').concat(e+1,'</span>\n            <svg class="search__icon">\n                <use href="').concat(y,'#icon-arrow-right"></use>\n            </svg>\n        </button>\n      ')}function B(e){return"\n        <button data-goto=".concat(e-1,' class="btn--inline pagination__btn--prev">\n            <svg class="search__icon">\n                <use href="').concat(y,'#icon-arrow-left"></use>\n            </svg>\n            <span>Page ').concat(e-1,"</span>\n        </button> \n      ")}const J=new class extends k{constructor(){super(...arguments),Q.add(this),U.add(this),D(this,"_parentEl",document.querySelector(".pagination")),D(this,"_query",""),D(this,"numPages",void 0)}setNumPages(){var{estTotalPages:e}=this._data;this.numPages=e}addHandlerClick(e){this._parentEl.addEventListener("click",(function(t){t.preventDefault();var n=t.target.closest(".btn--inline");if(n){var r=+n.dataset.goto;r&&e(r)}}))}_generateMarkup(){this.setNumPages();var e=this._data.page;return 1===e&&this.numPages>1?z(this,U,Y).call(this,e):e===this.numPages&&this.numPages>1?z(this,Q,B).call(this,e):e<this.numPages&&e>1?"".concat(z(this,Q,B).call(this,e)," ").concat(z(this,U,Y).call(this,e)):""}};var $=n(686);function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=new class extends k{constructor(){super(...arguments),V(this,"_parentEl",document.querySelector(".recipe")),V(this,"_errorMessage","ðŸ˜” We could not retrived the requested recipe. Please try again ðŸ¤ž."),V(this,"_message","")}addHandlerRender(e){["hashchange","load"].forEach((t=>window.addEventListener(t,e)))}addHandlerUpdateServings(e){this._parentEl.addEventListener("click",(function(t){var n=t.target.closest(".btn--update-servings");if(n){var r=+n.dataset.updateTo;r&&isFinite(r)&&e(r)}}))}addHandlerAddBookmark(e){this._parentEl.addEventListener("click",(function(t){t.target.closest(".btn--bookmark")&&e()}))}_generateMarkup(){return'\n        <figure class="recipe__fig">\n            <img src="'.concat(this._data.image,'" alt="Tomato" class="recipe__img" />\n            <h1 class="recipe__title">\n            <span>').concat(this._data.title,'</span>\n            </h1>\n        </figure>\n\n        <div class="recipe__details">\n            <div class="recipe__info">\n            <svg class="recipe__info-icon">\n                <use href="').concat(y,'#icon-clock"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--minutes">').concat(this._data.cookingTime,'</span>\n            <span class="recipe__info-text">minutes</span>\n            </div>\n            <div class="recipe__info">\n            <svg class="recipe__info-icon">\n                <use href="').concat(y,'#icon-users"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--people">').concat(this._data.servings,'</span>\n            <span class="recipe__info-text">servings</span>\n\n            <div class="recipe__info-buttons">\n                <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings-1,'">\n                <svg>\n                    <use href="').concat(y,'#icon-minus-circle"></use>\n                </svg>\n                </button>\n                <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings+1,'">\n                <svg>\n                    <use href="').concat(y,'#icon-plus-circle"></use>\n                </svg>\n                </button>\n            </div>\n            </div>\n\n            <div class="recipe__user-generated ').concat(this._data.key?"":"hidden",'">\n              <svg>\n                  <use href="').concat(y,'#icon-user"></use>\n              </svg>\n            </div>\n            <button class="btn--round btn--bookmark">\n              <svg class="">\n                  <use href="').concat(y,"#icon-bookmark").concat(this._data.bookmarked?"-fill":"",'"></use>\n              </svg>\n            </button>\n        </div>\n\n        <div class="recipe__ingredients">\n            <h2 class="heading--2">Recipe ingredients</h2>\n            <ul class="recipe__ingredient-list">\n                ').concat(this._data.ingredients.map((e=>this._generateMarkupIngredients(e))).join(""),'\n            </ul>\n        </div>\n\n        <div class="recipe__directions">\n            <h2 class="heading--2">How to cook it</h2>\n            <p class="recipe__directions-text">\n            This recipe was carefully designed and tested by\n            <span class="recipe__publisher">').concat(this._data.publisher,'</span>. Please check out\n            directions at their website.\n            </p>\n            <a\n            class="btn--small recipe__btn"\n            href="').concat(this._data.sourceUrl,'"\n            target="_blank"\n            >\n            <span>Directions</span>\n            <svg class="search__icon">\n                <use href="').concat(y,'#icon-arrow-right"></use>\n            </svg>\n            </a>\n        </div>\n    ')}_generateMarkupIngredients(e){return'\n        <li class="recipe__ingredient">\n            <svg class="recipe__icon">\n            <use href="'.concat(y,'#icon-check"></use>\n            </svg>\n            <div class="recipe__quantity">').concat(e.quantity?new $.i(e.quantity).toString():"",'</div>\n            <div class="recipe__description">\n            <span class="recipe__unit">').concat(e.unit,"</span>\n            ").concat(e.description,"\n            </div>\n        </li>\n    ")}};function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=new class extends N{constructor(){super(...arguments),K(this,"_parentEl",document.querySelector(".results")),K(this,"_query","")}_setErrorMessage(){this._errorMessage="You searched for: (".concat(this._query,") recipe. ðŸ˜” Sadly, we could not find recipes with that match. Please use a different word or a variation of the keyword ðŸ¤ž.")}getQueryString(e){this._query=e,this._setErrorMessage()}_generateMarkup(){return"".concat(this._generateResultsInfoMarkup()," ").concat(this._data.map(this._generateMarkupPreview).join(""))}_generateResultsInfoMarkup(){return'\n      <li class="preview">\n          <div class="preview__recipe-counts">\n              <span class="preview__recipe-page">'.concat(1===this.pageNo?"":"Page "+this.pageNo+" of ",'</span> \n              <span class="preview__recipe-count"> ').concat(1===this.pageNo?"About":"about"," ").concat(this.totalRecipes," recipes</span>\n          </div>\n      </li>\n    ")}};function Z(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get"))}var ee=new WeakMap,te=new WeakSet;function ne(){var e=Z(this,ee).querySelector(".search__field");e.value="",e.blur()}const re=new class{constructor(){te.add(this),ee.set(this,{writable:!0,value:document.querySelector(".search")})}getQuery(){var e=Z(this,ee).querySelector(".search__field").value;return function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,te,ne).call(this),e}addHandlerSearch(e){Z(this,ee).addEventListener("submit",(function(t){t.preventDefault(),e()}))}};function ie(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ie(a,r,i,o,s,"next",e)}function s(e){ie(a,r,i,o,s,"throw",e)}o(void 0)}))}}var oe=function(){var e=ae((function*(){try{var e=window.location.hash.slice(1);if(!e)return;X.update(v()),I.update(h.bookmarks),G.renderSpinner(),yield g(e),G.render(h.recipe)}catch(e){console.log(e),G.renderError()}}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=ae((function*(){try{X.renderSpinner();var e=re.getQuery();if(!e)throw new Error("An invalid request");yield f(e),X.getQueryString(h.search.query),X.getPaginationInfo(h.search.page,h.search.totalSearchResults),X.render(v()),J.render(h.search)}catch(e){console.log(e),X.renderError(e)}}));return function(){return e.apply(this,arguments)}}(),ce=function(e){try{if(e>h.search.estTotalPages||!e||e<0)throw new Error("Can't fetch requested page");X.getPaginationInfo(e,h.search.totalSearchResults),X.render(v(e)),J.render(h.search)}catch(e){X.renderError(e)}},ue=function(e){!function(e){h.recipe.ingredients.forEach((t=>{t.quantity=t.quantity*e/h.recipe.servings})),h.recipe.servings=e}(e),G.update(h.recipe)},le=function(){var e,t;h.recipe.bookmarked?(e=h.recipe.id,t=h.bookmarks.findIndex((t=>t.id===e)),h.bookmarks.splice(t,1),e===h.recipe.id&&(h.recipe.bookmarked=!1),m()):_(h.recipe),G.update(h.recipe),I.render(h.bookmarks)},de=function(){h.bookmarks.length<1||I.render(h.bookmarks)},he=function(){var e=ae((function*(e){try{A.renderSpinner(),yield b(e),G.render(h.recipe),A.renderMessage(),I.render(h.bookmarks),window.history.pushState(null,"","#".concat(h.recipe.id)),yield new Promise((e=>{e(setTimeout((()=>{A.toggleWindow()}),2500))}))}catch(e){console.log("ðŸ’¥ðŸ’¥ ".concat(e)),A.renderError(e)}}));return function(t){return e.apply(this,arguments)}}();C.renderCurrentYear(),I.addHandlerRender(de),G.addHandlerRender(oe),G.addHandlerUpdateServings(ue),G.addHandlerAddBookmark(le),re.addHandlerSearch(se),J.addHandlerClick(ce),A.addHandlerUpload(he)})()})();